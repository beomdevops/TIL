# Bean Scope

우리가 일반적으로 빈(Bean)이라고 생각하는 것은, 스프링 컨테이너가 시작될 때 함께 생성되고, 스프링 컨테이너가 종료될 때까지 유지되는 것이다. 이것은 스프링 빈이 기본적으로 싱글톤 스코프로 생성되기 때문이다. ```Bean Scope란 빈이 존재할 수 있는 범위를 뜻한다.```

Bean은 스프링에서 사용하는 POJO 기반 객체다.

상황과 필요에 따라 Bean을 사용할 때 하나만 만들어야 할 수도 있고, 여러개가 필요할 때도 있고, 어떤 한 시점에서만 사용해야할 때가 있을 수 있다.

이를 위해 Scope를 설정해서 Bean의 사용 범위를 개발자가 설정할 수 있다.

우선 따로 설정을 해주지 않으면, Spring에서 Bean은 Singleton으로 생성된다. 싱글톤 패턴처럼 특정 타입의 Bean을 딱 하나만 만들고 모두 공유해서 사용하기 위함이다. 보통은 Bean을 이렇게 하나만 만들어 사용하는 경우가 대부분이지만, 요구사항이나 구현에 따라 아닐 수도 있을 것이다.

따라서 Bean Scope는 싱글톤 말고도 여러가지를 지원해준다.


## Scope 종류

### singleton

기본 스코프, 스프링 컨테이너의 시작과 종료까지 유지되는 가장 넓은 범위의 스코프이다. 

해당 Bean에 대해 IoC 컨테이너에서 단 하나의 객체로만 존재한다.

### prototype

스프링 컨테이너는 프로토타입 빈의 생성과 의존관계 주입까지만 관여하고 더는 관리하지 않는 매우 짧은 범위의 스코프이다. 

해당 Bean에 대해 다수의 객체가 존재할 수 있다.


## 웹 관련 스코프

### request

해당 Bean에 대해 하나의 HTTP Request의 라이프사이클에서 단 하나의 객체로만 존재한다.

웹 요청이 들어오고 나갈때 까지 유지되는 스코프이다.

### session

해당 Bean에 대해 하나의 HTTP Session의 라이프사이클에서 단 하나의 객체로만 존재한다. 

웹 세션이 생성되고 종료될 때 까지 유지되는 스코프이다.

### application

웹의 서블릿 컨텍스트와 같은 범위로 유지되는 스코프이다.

-----

## 등록 방법

### 컴포넌트 스캔 자동 등록

     @Scope("prototype")
     @Component
     public class HelloBean {}

### 수동등록


    @Scope("prototype")
    @Bean
    PrototypeBean HelloBean() {
        return new HelloBean();
    }
